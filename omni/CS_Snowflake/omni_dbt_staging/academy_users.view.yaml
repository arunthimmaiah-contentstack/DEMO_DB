# Reference this view as omni_dbt_staging__academy_users
schema_label: ""

schema: omni_dbt_staging
table_name: ACADEMY_USERS

dimensions:
  data_sync_date:
    sql: '"DATA_SYNC_DATE"'

  uid:
    sql: '"UID"'

  first_name:
    sql: '"FIRST_NAME"'

  last_name:
    sql: '"LAST_NAME"'

  email:
    sql: '"EMAIL"'

  user_role:
    sql: '"USER_ROLE"'

  tags:
    sql: '"TAGS"'

  company:
    sql: '"COMPANY"'

  allowed_to_create_instance:
    sql: '"ALLOWED_TO_CREATE_INSTANCE"'

  allowed_to_create_instance_regions:
    sql: '"ALLOWED_TO_CREATE_INSTANCE_REGIONS"'

  created_at:
    sql: '"CREATED_AT"'

  updated_at:
    sql: '"UPDATED_AT"'

measures:
  count:
    aggregate_type: count

#The info below was pulled from your dbt repository and is read-only.
dbt:
  name: academy_users
  target_schema: STAGING
  config:
    schema: staging
    materialized: view
  code: |-
    select
        CONVERT_TIMEZONE('UTC', 'America/Los_Angeles', current_timestamp()::timestamp_ntz) AS data_sync_date,
        replace(users:uid, '"', '') as uid,
        replace(users:firstName, '"', '') as first_name,
        replace(users:lastName, '"', '') as last_name,
        replace(users:email, '"', '') as email,
        replace(users:role, '"', '') as user_role,
        replace(users:tags, '"', '') as tags,
        replace(users:company, '"', '') as company,
        replace(users:contentstackTrainingInstance:isAllowedToCreateInstance, '"', '') as allowed_to_create_instance,
        replace(users:contentstackTrainingInstance:regions, '"', '') as allowed_to_create_instance_regions,
        replace(users:createdAt, '"', '') as created_at,
        replace(users:updatedAt, '"', '') as updated_at
    from {{source('academy', 'academy_users')}}
  referenced_by: [ all_users_partner ]
