# Reference this view as omni_dbt_staging__stg_salesforce__account_user_relation
schema_label: ""

schema: omni_dbt_staging
table_name: STG_SALESFORCE__ACCOUNT_USER_RELATION

dimensions:
  id:
    sql: '"ID"'
    format: ID
    primary_key: true

  account_id:
    sql: '"ACCOUNT_ID"'
    format: ID

  customer_success_manager_id:
    sql: '"CUSTOMER_SUCCESS_MANAGER_ID"'
    format: ID

  sales_engineer_id:
    sql: '"SALES_ENGINEER_ID"'
    format: ID

  solution_architect_id:
    sql: '"SOLUTION_ARCHITECT_ID"'
    format: ID

  partner_relationship_manager_id:
    sql: '"PARTNER_RELATIONSHIP_MANAGER_ID"'
    format: ID

measures:
  count:
    aggregate_type: count

#The info below was pulled from your dbt repository and is read-only.
dbt:
  name: stg_salesforce__account_user_relation
  target_schema: STAGING
  config:
    schema: staging
    materialized: view
  code: |-
    with source as (
        select * from {{ source('salesforce_account', 'account') }} where is_deleted = 'FALSE'
    )

    select
        concat(id,'|',name) as id, -- surogate key ( generated by using combination of unique columns )
        id as account_id,
        cs_manager_c as customer_success_manager_id,
        sales_engineer_c as sales_engineer_id,
        solution_architect_c as solution_architect_id,
        partner_relationship_manager_c as partner_relationship_manager_id
    from source
  referenced_by: [ int_salesforce__account_unified ]
