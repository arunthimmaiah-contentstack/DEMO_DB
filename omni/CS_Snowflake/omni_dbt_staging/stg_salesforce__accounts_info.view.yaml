# Reference this view as omni_dbt_staging__stg_salesforce__accounts_info
schema_label: ""
#This description was pulled from dbt.
description: |
  Staging model for Salesforce accounts information.  Includes account identifiers and key contact roles such as Customer Success Manager, Sales Engineer, Solution Architect, and Partner Relationship Manager. The surrogate key is generated by combining the Salesforce account ID and name.

schema: omni_dbt_staging
table_name: STG_SALESFORCE__ACCOUNTS_INFO

dimensions:
  id:
    sql: '"ID"'
    format: ID
    #This description was pulled from dbt.
    description: Surrogate key generated by combining account ID and name.
    primary_key: true

  account_id:
    sql: '"ACCOUNT_ID"'
    format: ID
    #This description was pulled from dbt.
    description: Salesforce Account ID.

  revenue_c:
    sql: '"REVENUE_C"'

  deployment_status_c:
    sql: '"DEPLOYMENT_STATUS_C"'

  current_arr:
    sql: '"CURRENT_ARR"'

  product_type:
    sql: '"PRODUCT_TYPE"'

  account_last_modified_date:
    sql: '"ACCOUNT_LAST_MODIFIED_DATE"'

  account_created_date:
    sql: '"ACCOUNT_CREATED_DATE"'

  account_owner_id:
    sql: '"ACCOUNT_OWNER_ID"'
    format: ID

  actual_go_live_date_c:
    sql: '"ACTUAL_GO_LIVE_DATE_C"'

  predicted_go_live_date_c:
    sql: '"PREDICTED_GO_LIVE_DATE_C"'

  license_start_date:
    sql: '"LICENSE_START_DATE"'

  license_end_date:
    sql: '"LICENSE_END_DATE"'

measures:
  count:
    aggregate_type: count

#The info below was pulled from your dbt repository and is read-only.
dbt:
  name: stg_salesforce__accounts_info
  target_schema: STAGING
  description: |
    Staging model for Salesforce accounts information.  Includes account identifiers and key contact roles such as Customer Success Manager, Sales Engineer, Solution Architect, and Partner Relationship Manager. The surrogate key is generated by combining the Salesforce account ID and name.
  config:
    schema: staging
    materialized: view
  code: |-
    with source as (
        select * from {{ source('salesforce_account', 'account') }} where is_deleted = 'FALSE'
    )

    select
        concat(id,'|',name) as id, -- surogate key ( generated by using combination of unique columns )
        id as account_id,
    	revenue_c,
    	deployment_status_c,
        current_arr_c as current_arr,
        product_type_c as product_type,
        last_modified_date as account_last_modified_date,
        created_date as account_created_date,
        owner_id as account_owner_id,
    	actual_go_live_date_c,
    	predicted_go_live_date_c,
        license_start_date_c as license_start_date,
        license_end_date_c as license_end_date
    from source
  referenced_by: [ int_salesforce__account_unified ]
