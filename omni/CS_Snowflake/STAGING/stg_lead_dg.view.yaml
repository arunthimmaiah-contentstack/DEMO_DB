# Reference this view as staging__stg_lead_dg
schema: STAGING
table_name: STG_LEAD_DG

dimensions:
  id:
    sql: '"ID"'
    format: ID
    primary_key: true

  company:
    sql: '"COMPANY"'

  lead_source:
    sql: '"LEAD_SOURCE"'

  lead_source_category_c:
    sql: '"LEAD_SOURCE_CATEGORY_C"'

  email:
    sql: '"EMAIL"'

  status:
    sql: '"STATUS"'

  geo_c:
    sql: '"GEO_C"'

  annual_revenue_c:
    sql: '"ANNUAL_REVENUE_C"'

  customer_segment_c:
    sql: '"CUSTOMER_SEGMENT_C"'

  matched_account_name_c:
    sql: '"MATCHED_ACCOUNT_NAME_C"'

  matched_account_tier_ld_c:
    sql: '"MATCHED_ACCOUNT_TIER_LD_C"'

  stage_date_mel_c:
    sql: '"STAGE_DATE_MEL_C"'

  stage_date_mql_v_2_c:
    sql: '"STAGE_DATE_MQL_V_2_C"'

  stage_date_sal_v_2_c:
    sql: '"STAGE_DATE_SAL_V_2_C"'

  stage_date_sql_v_2_c:
    sql: '"STAGE_DATE_SQL_V_2_C"'

  contact_us_subject_c:
    sql: '"CONTACT_US_SUBJECT_C"'

  _fivetran_synced:
    sql: '"_FIVETRAN_SYNCED"'
    hidden: true

measures:
  count:
    aggregate_type: count

#The info below was pulled from your dbt repository and is read-only.
dbt:
  name: stg_lead_dg
  target_schema: STAGING
  config:
    schema: staging
    materialized: view
  code: |-
    {{ config(materialized='view') }}

    select
        id,
        company,
        lead_source,
        lead_source_category_c,
        email,
        status,
        geo_c,
        annual_revenue_c,
        customer_segment_c,
        matched_account_name_c,
        matched_account_tier_ld_c,
        stage_date_mel_c,
        stage_date_mql_v_2_c,
        stage_date_sal_v_2_c,
        stage_date_sql_v_2_c,
        contact_us_subject_c,
        _fivetran_synced
    from {{ source('sfdc_lead', 'lead') }}
    where is_deleted = 'FALSE'
  referenced_by:
    [
      fact_dreamguard_all,
      fact_dreamguard_main,
      fact_dreamguard_main_fiscal,
      fact_dreamguard_metrics_business_use
    ]
