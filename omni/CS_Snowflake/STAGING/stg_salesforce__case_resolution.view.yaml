# Reference this view as staging__stg_salesforce__case_resolution
#This description was pulled from dbt.
description: |
  Staging model for Salesforce Case Resolution details. Captures resolution timestamps, duration, notes, and reasons for each case. Only non-deleted cases are included.

schema: STAGING
table_name: STG_SALESFORCE__CASE_RESOLUTION

dimensions:
  case_id:
    sql: '"CASE_ID"'
    format: ID
    #This description was pulled from dbt.
    description: Primary key. Salesforce Case ID.

  solved_at:
    sql: '"SOLVED_AT"'
    #This description was pulled from dbt.
    description: Timestamp when the case was marked as solved (custom field).

  days_to_resolution:
    sql: '"DAYS_TO_RESOLUTION"'
    #This description was pulled from dbt.
    description: Number of days taken to resolve the case (custom field).

  resoloution_notes:
    sql: '"RESOLOUTION_NOTES"'
    #This description was pulled from dbt.
    description: Notes regarding the case resolution (custom field).

  resolution_reason:
    sql: '"RESOLUTION_REASON"'
    #This description was pulled from dbt.
    description: Reason for the case resolution (custom field).

measures:
  count:
    aggregate_type: count

#The info below was pulled from your dbt repository and is read-only.
dbt:
  name: stg_salesforce__case_resolution
  target_schema: STAGING
  description: |
    Staging model for Salesforce Case Resolution details. Captures resolution timestamps, duration, notes, and reasons for each case. Only non-deleted cases are included.
  config:
    schema: staging
    materialized: view
  code: |-
    with source as (
        select * from {{ source('salesforce_case', 'case') }}
    ),

    renamed as (
        select
            id as case_id,
            solved_at_c as solved_at,
            days_to_resolution_c as days_to_resolution,
            resolution_notes_c as resoloution_notes,
            resolution_reason_c as resolution_reason       

        from source
        where is_deleted = false
    )

    select * from renamed
